$.fn.mbClicker=function(t){var i=$(this),n=navigator.userAgent,o=n.match(/iPad/i)?"touchstart":"mousedown",e="none";t.shadow&&(e="0 0 "+t.size/5+"px "+t.colour),i.unbind().on(o,function(i){var n=$(this),o=n.attr("data-clickpoint"),r=i.clientX+"x"+i.clientY;if(o==r)return!1;n.attr("data-clickpoint",r),i.preventDefault(),i.stopImmediatePropagation(),n.append('<div class="clicked"></div>');var a=i.offsetX,s=i.offsetY,c=$(".clicked");c.css({position:"absolute",top:s.toString()+"px",left:a.toString()+"px",width:"0",height:"0",border:"0px solid "+t.colour,"box-shadow":e,"border-radius":"100%","box-sizing":"border-box","-webkit-transition":"none",transition:"none","pointer-events":"none","z-index":Number.MAX_VALUE.toString()}),c.animate({top:(s-t.size).toString()+"px",left:(a-t.size).toString()+"px","border-width":t.size.toString()+"px",opacity:"0"},t.speed,function(){$(this).remove()}),t.buttonAnimation&&(n.css({"-webkit-transition":"none",transition:"none"}),n.stop().animate({opacity:"0.8"},.25*t.speed,function(){n.animate({opacity:"1"},.75*t.speed,function(){$(this).removeAttr("style")})}))})};
